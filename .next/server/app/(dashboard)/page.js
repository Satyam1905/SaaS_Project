(()=>{var e={};e.id=130,e.ids=[130],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2418:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l}),s(3101),s(8032),s(5866),s(1506);var a=s(3191),r=s(8716),n=s(7922),o=s.n(n),i=s(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let l=["",{children:["(dashboard)",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3101)),"C:\\Users\\satyam patel\\Downloads\\saas_assignment\\saas-notes-app\\app\\(dashboard)\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,8032)),"C:\\Users\\satyam patel\\Downloads\\saas_assignment\\saas-notes-app\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"C:\\Users\\satyam patel\\Downloads\\saas_assignment\\saas-notes-app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\satyam patel\\Downloads\\saas_assignment\\saas-notes-app\\app\\(dashboard)\\page.tsx"],u="/(dashboard)/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},2099:()=>{},9468:(e,t,s)=>{Promise.resolve().then(s.bind(s,1163))},3645:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},5303:()=>{},1163:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=s(326),r=s(7577);function n({onNoteCreated:e}){let[t,s]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),[i,d]=(0,r.useState)(!1),[l,c]=(0,r.useState)(""),u=async a=>{a.preventDefault(),d(!0),c("");try{let a=localStorage.getItem("token"),r=await fetch("/api/notes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({title:t,content:n})}),i=await r.json();i.success?(s(""),o(""),e()):c(i.error||"Failed to create note")}catch(e){c("Failed to create note")}finally{d(!1)}};return(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Create New Note"}),l&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),(0,a.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),a.jsx("input",{type:"text",id:"title",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:t,onChange:e=>s(e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700",children:"Content"}),a.jsx("textarea",{id:"content",rows:4,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:n,onChange:e=>o(e.target.value)})]}),a.jsx("button",{type:"submit",disabled:i,className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50",children:i?"Creating...":"Create Note"})]})]})}function o({notes:e,onNoteDeleted:t}){let[s,n]=(0,r.useState)(null),o=async e=>{if(confirm("Are you sure you want to delete this note?")){n(e);try{let s=localStorage.getItem("token"),a=await fetch(`/api/notes/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${s}`}});(await a.json()).success?t(e):alert("Failed to delete note")}catch(e){alert("Failed to delete note")}finally{n(null)}}},i=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return 0===e.length?a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:a.jsx("p",{className:"text-gray-500",children:"No notes yet. Create your first note!"})}):a.jsx("div",{className:"space-y-4",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e.title}),a.jsx("button",{onClick:()=>o(e.id),disabled:s===e.id,className:"text-red-600 hover:text-red-800 disabled:opacity-50",children:s===e.id?"Deleting...":"Delete"})]}),e.content&&a.jsx("p",{className:"text-gray-700 mb-4 whitespace-pre-wrap",children:e.content}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,a.jsxs)("p",{children:["Created by: ",e.author.email]}),(0,a.jsxs)("p",{children:["Created at: ",i(e.createdAt)]})]})]},e.id))})}function i(){let[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),[d,l]=(0,r.useState)(""),c=async()=>{try{let e=localStorage.getItem("token"),s=await fetch("/api/notes",{headers:{Authorization:`Bearer ${e}`}}),a=await s.json();a.success?t(a.data):l("Failed to fetch notes")}catch(e){l("Failed to fetch notes")}finally{i(!1)}};return s?a.jsx("div",{className:"p-8 flex justify-center",children:a.jsx("div",{className:"text-lg",children:"Loading..."})}):a.jsx("div",{className:"p-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"My Notes"}),d&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:d}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(o,{notes:e,onNoteDeleted:s=>{t(e.filter(e=>e.id!==s))}})}),a.jsx("div",{children:a.jsx(n,{onNoteCreated:()=>{c()}})})]})]})})}},8032:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>r});var a=s(9510);s(7667);let r={title:"SaaS Notes App",description:"Multi-tenant notes application"};function n({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{children:e})})}},3101:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`C:\Users\satyam patel\Downloads\saas_assignment\saas-notes-app\app\(dashboard)\page.tsx#default`)},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,runtime:()=>r});var a=s(9510);let r="nodejs";function n({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{children:e})})}},7667:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[276,471],()=>s(2418));module.exports=a})();